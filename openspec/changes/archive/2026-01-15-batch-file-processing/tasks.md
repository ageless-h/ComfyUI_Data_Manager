# Tasks

## 1. 后端辅助模块
- [ ] 1.1 创建 `backend/helpers/batch_scanner.py` 模块
- [ ] 1.2 实现 glob 文件扫描逻辑（支持通配符）
- [ ] 1.3 实现递归目录扫描
- [ ] 1.4 创建 `backend/helpers/batch_namer.py` 模块
- [ ] 1.5 实现批量命名规则（索引、时间戳、原文件名）

## 2. OutputPathConfig 节点扩展
- [ ] 2.1 添加 `enable_match` 布尔输入
- [ ] 2.2 添加 `pattern` 字符串输入
- [ ] 2.3 实现 Match 模式执行逻辑
- [ ] 2.4 返回文件路径字符串列表（非加载后的数据）
- [ ] 2.5 确保不设置 `INPUT_IS_LIST = True`

## 3. InputPathConfig 节点扩展
- [ ] 3.1 添加 `enable_batch` 布尔输入
- [ ] 3.2 添加 `naming_rule` 字符串输入
- [ ] 3.3 实现批量保存逻辑
- [ ] 3.4 支持按索引命名
- [ ] 3.5 支持保留原文件名
- [ ] 3.6 支持保留目录结构

## 4. 类型检测和兼容性
- [ ] 4.1 确保与现有类型的兼容性
- [ ] 4.2 测试自动迭代的正确执行
- [ ] 4.3 验证内存使用（不会堆积）

## 5. UI 组件
- [ ] 5.1 在节点配置中添加批量选项
- [ ] 5.2 添加通配符输入界面（带提示）
- [ ] 5.3 添加命名规则配置界面
- [ ] 5.4 添加文件预览功能

## 6. 测试验证
- [ ] 6.1 测试 Match 模式加载
- [ ] 6.2 测试批量保存模式
- [ ] 6.3 测试自动迭代机制
- [ ] 6.4 测试内存使用（大量文件）
- [ ] 6.5 测试不同通配符模式

## 7. 文档更新
- [ ] 7.1 更新 README 添加批量处理说明
- [ ] 7.2 添加通配符语法文档
- [ ] 7.3 添加工作流示例
- [ ] 7.4 添加内存安全说明
