async function a(e,r,o,n){const t=await fetch("/dm/ssh/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:e,port:r||22,username:o,password:n})});if(!t.ok){const s=await t.json().catch(()=>({error:"连接失败"}));throw new Error(s.error||s.message||"SSH 连接失败")}return await t.json()}async function i(e){const r=await fetch("/dm/ssh/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connection_id:e})});if(!r.ok){const o=await r.json().catch(()=>({error:"断开失败"}));throw new Error(o.error||o.message||"SSH 断开失败")}return await r.json()}async function c(e,r="."){const o=await fetch("/dm/ssh/list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connection_id:e,path:r})});if(!o.ok){const n=await o.json().catch(()=>({error:"列出目录失败"}));throw new Error(n.error||n.message||"SSH 列出目录失败")}return await o.json()}async function h(e){const r=await fetch("/dm/ssh/credentials/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){const o=await r.json().catch(()=>({error:"保存凭证失败"}));throw new Error(o.error||"保存 SSH 凭证失败")}return await r.json()}async function d(){const e=await fetch("/dm/ssh/credentials/list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const r=await e.json().catch(()=>({error:"获取凭证列表失败"}));throw new Error(r.error||"获取 SSH 凭证列表失败")}return await e.json()}async function w(e){const r=await fetch("/dm/ssh/credentials/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(!r.ok){const o=await r.json().catch(()=>({error:"删除凭证失败"}));throw new Error(o.error||"删除 SSH 凭证失败")}return await r.json()}export{a as sshConnect,w as sshDeleteCredential,i as sshDisconnect,c as sshList,d as sshListCredentials,h as sshSaveCredential};
//# sourceMappingURL=ssh.js.map
